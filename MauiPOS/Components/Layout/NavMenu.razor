@using Microsoft.AspNetCore.Components.Routing

<div class="fixed inset-y-0 left-0 w-16 bg-wheat text-gray-800 flex flex-col justify-between transition-all duration-300 ease-in-out transform @(IsOpen ? "w-60" : "w-16") hover:w-60 md:w-16 md:hover:w-60 z-50 group">
    <!-- Sidebar Header -->
    <div class="p-4 border-b border-gray-300 flex items-center justify-center">
        <h1 class="text-xl font-bold truncate">POS</h1>
    </div>

    <!-- Menu Items -->
    <nav class="flex-1  ">
        <NavLink href="/" class="flex items-center p-4 hover:bg-gray-200 hover:border-l-4 hover:border-indigo-600 relative group/nav" ActiveClass="bg-indigo-600 text-white border-l-4 border-indigo-600">
            <img src="/images/home.png" alt="Home" class="h-6 w-6" />
            <span class="absolute left-16 opacity-0   transition-opacity duration-200 ml-2 whitespace-nowrap">Home</span>
        </NavLink>
        <NavLink href="/orders" class="flex items-center p-4 hover:bg-gray-200 hover:border-l-4 hover:border-indigo-600 relative group/nav" ActiveClass="bg-indigo-600 text-white border-l-4 border-indigo-600">
            <img src="/images/list.png" alt="Orders" class="h-6 w-6" />
            <span class="absolute left-16 opacity-0   transition-opacity duration-200 ml-2 whitespace-nowrap">Orders</span>
        </NavLink>
        <NavLink href="/manage-items" class="flex items-center p-4 hover:bg-gray-200 hover:border-l-4 hover:border-indigo-600 relative group/nav" ActiveClass="bg-indigo-600 text-white border-l-4 border-indigo-600">
            <img src="/images/grid.png" alt="Manage Menu" class="h-6 w-6" />
            <span class="absolute left-16 opacity-0   transition-opacity duration-200 ml-2 whitespace-nowrap">Manage Menu</span>
        </NavLink>
    </nav>

    <!-- Footer -->
    <div class="p-4 border-t border-gray-300 flex justify-center">
        <a href="mailto:awahab.akhan@gmail.com" class="flex items-center relative group/nav" title="Support">
            <img src="/images/envelope.png" alt="Support" class="h-5 w-5 text-gray-600 hover:text-indigo-600" />
            <span class="absolute left-16 opacity-0   transition-opacity duration-200 ml-2 whitespace-nowrap text-sm text-gray-600 hover:text-indigo-600">Support</span>
        </a>
    </div>
</div>

<!-- Overlay for mobile when sidebar is open -->
@if (IsOpen)
{
    <div class="fixed inset-0 bg-black bg-opacity-50 md:hidden z-40" @onclick="ToggleSidebar"></div>
}

<!-- Hamburger Menu for Mobile -->
<button class="md:hidden fixed top-4 left-4 z-50 p-2 bg-indigo-600 text-white rounded-lg" @onclick="ToggleSidebar">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
    </svg>
</button>

@code {
    private bool IsOpen { get; set; } = false;

    private void ToggleSidebar()
    {
        IsOpen = !IsOpen;
    }
}